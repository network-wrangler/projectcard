{
	"$schema": "http://json-schema.org/draft-07/schema#",
    "type": "object",
	"$defs": {
		"set": {
			"type" : "object",
			"required": ["set"],
			"properties" : {
				"existing" : {"type": ["number", "string"]},
				"set" : {"type": ["number", "string"]}
			}
		},
		"existing_change": {
			"type" : "object",
			"required": ["existing","change"],
			"properties" : {
				"existing" : {"type" : "number"},
				"change" : {"type" : "number"}
			}
		}
	},
	"required": [
		"service",
		"property_changes"
	],
	"additionalProperties" : false,
	"properties": {
	   "service": {"$ref": "../transit/selection/transit_service.json"},
	   "property_changes": {
			"type": "object",
			"minItems":1,
			"oneOf": [
				{"patternProperties":{".*": {"$ref": "#/$defs/set"}}},
				{"patternProperties":{".*": {"$ref": "#/$defs/existing_change"}}}
			]
		}
	}
}
