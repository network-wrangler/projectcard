2023-03-24 14:26:18, INFO: Reading cards from example directory.
2023-03-24 14:26:18, DEBUG: Getting cardpath list: /Users/elizabeth/Documents/urbanlabs/working/projectcard/examples of type <class 'str'>
2023-03-24 14:26:18, DEBUG: Getting all files in: /Users/elizabeth/Documents/urbanlabs/working/projectcard/examples
2023-03-24 14:26:18, DEBUG: All paths: [PosixPath('/Users/elizabeth/Documents/urbanlabs/working/projectcard/examples/roadway-delete.yml'), PosixPath('/Users/elizabeth/Documents/urbanlabs/working/projectcard/examples/roadway-add.yml'), PosixPath('/Users/elizabeth/Documents/urbanlabs/working/projectcard/examples/roadway-add-delete.yml'), PosixPath('/Users/elizabeth/Documents/urbanlabs/working/projectcard/examples/roadway-calculated.wrx'), PosixPath('/Users/elizabeth/Documents/urbanlabs/working/projectcard/examples/roadway-add-managed-lane-simple.ymlx'), PosixPath('/Users/elizabeth/Documents/urbanlabs/working/projectcard/examples/roadway-add-managed-lane-restricted-access.ymlx'), PosixPath('/Users/elizabeth/Documents/urbanlabs/working/projectcard/examples/roadway-property-change.yml')]
2023-03-24 14:26:18, DEBUG: Reading set of paths: [PosixPath('/Users/elizabeth/Documents/urbanlabs/working/projectcard/examples/roadway-delete.yml'), PosixPath('/Users/elizabeth/Documents/urbanlabs/working/projectcard/examples/roadway-add.yml'), PosixPath('/Users/elizabeth/Documents/urbanlabs/working/projectcard/examples/roadway-add-delete.yml'), PosixPath('/Users/elizabeth/Documents/urbanlabs/working/projectcard/examples/roadway-property-change.yml')]
2023-03-24 14:26:18, DEBUG: Reading YML: /Users/elizabeth/Documents/urbanlabs/working/projectcard/examples/roadway-delete.yml
2023-03-24 14:26:18, DEBUG: Reading YML: /Users/elizabeth/Documents/urbanlabs/working/projectcard/examples/roadway-add.yml
2023-03-24 14:26:18, DEBUG: Reading YML: /Users/elizabeth/Documents/urbanlabs/working/projectcard/examples/roadway-add-delete.yml
2023-03-24 14:26:18, DEBUG: Reading YML: /Users/elizabeth/Documents/urbanlabs/working/projectcard/examples/roadway-property-change.yml
2023-03-24 14:26:18, INFO: Testing that all cards in example directory can be read in.
2023-03-24 14:26:18, DEBUG: Cards:
--------
project: example delete roadway
tags: ['delete roadway', 'example']
dependencies: 
notes: project card with multiple category of add and delete changes
changes: [{'category': 'roadway deletion', 'links': [{'model_link_id': [281, 477533]}], 'nodes': [{'model_node_id': [314159]}]}]
file: /Users/elizabeth/Documents/urbanlabs/working/projectcard/examples/roadway-delete.yml
--------
project: example roadway add
tags: ['add roadway', 'example']
dependencies: {'prerequisites': [], 'corequisites': [], 'conflicts': []}
notes: Simple project card to add new roadway
changes: [{'category': 'add new roadway', 'links': [{'A': 269066, 'B': 268932, 'name': 'new neighborhood st', 'bike_access': 1, 'drive_access': 0, 'bus_only': 0, 'rail_only': 0, 'walk_access': 1, 'roadway': 'residential', 'lanes': 1, 'model_link_id': 404982}, {'A': 268932, 'B': 269066, 'bike_access': 1, 'name': 'new neighborhood st', 'drive_access': 0, 'bus_only': 0, 'rail_only': 0, 'walk_access': 1, 'roadway': 'residential', 'lanes': 1, 'model_link_id': 407042}]}]
file: /Users/elizabeth/Documents/urbanlabs/working/projectcard/examples/roadway-add.yml
--------
project: example roadway multiple add and delete
tags: ['add and delete roadway']
dependencies: 
changes: [{'category': 'Add New Roadway', 'nodes': [{'model_node_id': 314159, 'X': -93.18389, 'Y': 44.96898, 'drive_node': 1, 'walk_node': 0, 'bike_node': 0, 'transit_node': 1}]}, {'category': 'Roadway Deletion', 'links': {'model_link_id': [281, 477533]}, 'nodes': {'model_node_id': [314159]}}, {'category': 'Add New Roadway', 'links': [{'A': 3230, 'B': 3262, 'model_link_id': 999998, 'trn_priority': 0, 'lanes': 1, 'name': 'new bike greenway and neighborhood st', 'bike_facility': 3, 'drive_access': 1, 'walk_access': 1, 'bike_access': 1, 'bus_only': 0, 'rail_only': 0, 'roadway': 'residential', 'distance': 0.10462, 'ttime_assert': 0.0, 'OPERATION_final': 'A'}, {'A': 3262, 'B': 3230, 'model_link_id': 999997, 'trn_priority': 0, 'lanes': 1, 'name': 'new bike greenway and neighborhood st', 'bike_facility': 3, 'drive_access': 1, 'walk_access': 1, 'bike_access': 1, 'bus_only': 0, 'rail_only': 0, 'roadway': 'residential', 'distance': 0.10462, 'ttime_assert': 0.0, 'OPERATION_final': 'A'}], 'nodes': [{'model_node_id': 354388, 'X': -93.18389, 'Y': 44.96898, 'drive_node': 1, 'walk_node': 0, 'bike_node': 0, 'transit_node': 1}]}]
notes: project card with multiple category of add and delete changes
file: /Users/elizabeth/Documents/urbanlabs/working/projectcard/examples/roadway-add-delete.yml
--------
project: Example property change
tags: ['example']
dependencies: {'prerequisites': [], 'corequisites': [], 'conflicts': []}
changes: [{'category': 'roadway property change', 'facility': {'links': [{'osm_link_id': ['1234']}], 'A': {'osm_node_id': '4321'}, 'B': {'osm_node_id': '4322'}}, 'properties': [{'property': 'lanes', 'existing': 3, 'change': -1}]}]
notes: Simple project example to do a road diet on 6th St E in front of MetCouncil
file: /Users/elizabeth/Documents/urbanlabs/working/projectcard/examples/roadway-property-change.yml
2023-03-24 14:26:18, DEBUG: Getting cardpath list: /Users/elizabeth/Documents/urbanlabs/working/projectcard/examples of type <class 'str'>
2023-03-24 14:26:18, DEBUG: Getting all files in: /Users/elizabeth/Documents/urbanlabs/working/projectcard/examples
2023-03-24 14:26:18, DEBUG: All paths: [PosixPath('/Users/elizabeth/Documents/urbanlabs/working/projectcard/examples/roadway-delete.yml'), PosixPath('/Users/elizabeth/Documents/urbanlabs/working/projectcard/examples/roadway-add.yml'), PosixPath('/Users/elizabeth/Documents/urbanlabs/working/projectcard/examples/roadway-add-delete.yml'), PosixPath('/Users/elizabeth/Documents/urbanlabs/working/projectcard/examples/roadway-calculated.wrx'), PosixPath('/Users/elizabeth/Documents/urbanlabs/working/projectcard/examples/roadway-add-managed-lane-simple.ymlx'), PosixPath('/Users/elizabeth/Documents/urbanlabs/working/projectcard/examples/roadway-add-managed-lane-restricted-access.ymlx'), PosixPath('/Users/elizabeth/Documents/urbanlabs/working/projectcard/examples/roadway-property-change.yml')]
2023-03-24 14:26:18, DEBUG: Reading set of paths: [PosixPath('/Users/elizabeth/Documents/urbanlabs/working/projectcard/examples/roadway-delete.yml'), PosixPath('/Users/elizabeth/Documents/urbanlabs/working/projectcard/examples/roadway-add.yml'), PosixPath('/Users/elizabeth/Documents/urbanlabs/working/projectcard/examples/roadway-add-delete.yml'), PosixPath('/Users/elizabeth/Documents/urbanlabs/working/projectcard/examples/roadway-property-change.yml')]
2023-03-24 14:26:18, INFO: Testing that all cards in example directory are valid.
2023-03-24 14:26:18, DEBUG: Evaluating: example delete roadway
2023-03-24 14:26:18, DEBUG: Validating: example delete roadway
2023-03-24 14:26:18, DEBUG: Evaluating: example roadway add
2023-03-24 14:26:18, DEBUG: Validating: example roadway add
2023-03-24 14:26:18, DEBUG: Evaluating: example roadway multiple add and delete
2023-03-24 14:26:18, DEBUG: Validating: example roadway multiple add and delete
2023-03-24 14:26:18, ERROR: ---- Error validating example roadway multiple add and delete ----
2023-03-24 14:26:18, ERROR: 0 is not of type 'object'

Failed validating 'type' in schema[1]['properties']['nodes']['items']['properties']['walk_node']:
    {'examples': [{'default': 1,
                   'timeofday': [{'category': ['HOV2'],
                                  'time': ['7:00', '9:00'],
                                  'value': 0.5}]}],
     'id': 'roadway.links.property.by_access-category-and-time-of-day',
     'properties': {'default': {'minimum': 0, 'type': 'number'},
                    'timeofday': {'items': {'properties': {'category': {'items': {'type': 'string'},
                                                                        'type': 'array'},
                                                           'time': {'$schema': 'http://json-schema.org/draft-07/schema',
                                                                    'id': 'timespan',
                                                                    'items': {'oneof': [{'pattern': '^([0-9]|0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]$'},
                                                                                        {'pattern': '^([0-9]|0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]:[0-5][0-9]$'}],
                                                                              'type': 'string'},
                                                                    'maxItems': 2,
                                                                    'minItems': 2,
                                                                    'type': 'array'},
                                                           'value': {'minimum': 0,
                                                                     'type': 'number'}},
                                            'required': ['category',
                                                         'time',
                                                         'value'],
                                            'type': 'object'},
                                  'type': 'array'}},
     'required': ['default', 'timeofday'],
     'type': 'object'}

On instance['nodes'][0]['walk_node']:
    0
2023-03-24 14:26:18, ERROR: 0 is not of type 'object'

Failed validating 'type' in schema[1]['properties']['nodes']['items']['properties']['walk_node']:
    {'examples': [{'default': 1,
                   'timeofday': [{'category': ['HOV2'],
                                  'time': ['7:00', '9:00'],
                                  'value': 0.5}]}],
     'id': 'roadway.links.property.by_access-category-and-time-of-day',
     'properties': {'default': {'minimum': 0, 'type': 'number'},
                    'timeofday': {'items': {'properties': {'category': {'items': {'type': 'string'},
                                                                        'type': 'array'},
                                                           'time': {'$schema': 'http://json-schema.org/draft-07/schema',
                                                                    'id': 'timespan',
                                                                    'items': {'oneof': [{'pattern': '^([0-9]|0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]$'},
                                                                                        {'pattern': '^([0-9]|0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]:[0-5][0-9]$'}],
                                                                              'type': 'string'},
                                                                    'maxItems': 2,
                                                                    'minItems': 2,
                                                                    'type': 'array'},
                                                           'value': {'minimum': 0,
                                                                     'type': 'number'}},
                                            'required': ['category',
                                                         'time',
                                                         'value'],
                                            'type': 'object'},
                                  'type': 'array'}},
     'required': ['default', 'timeofday'],
     'type': 'object'}

On instance['nodes'][0]['walk_node']:
    0
2023-03-24 14:26:18, DEBUG: Evaluating: example property change
2023-03-24 14:26:18, DEBUG: Validating: Example property change
2023-03-24 14:26:18, ERROR: ---- Error validating Example property change ----
2023-03-24 14:26:18, ERROR: 'roadway property change' does not match '^[Rr][Oo][Aa][Dd][Ww][Aa][Yy] [Dd][Ee][Ll][Ee][Tt][Ii][Oo][Nn]$'

Failed validating 'pattern' in schema[0]['properties']['category']:
    {'description': "Should be 'roadway deletion'",
     'pattern': '^[Rr][Oo][Aa][Dd][Ww][Aa][Yy] '
                '[Dd][Ee][Ll][Ee][Tt][Ii][Oo][Nn]$',
     'type': 'string'}

On instance['category']:
    'roadway property change'
2023-03-24 14:26:18, ERROR: 'roadway property change' does not match '^[Rr][Oo][Aa][Dd][Ww][Aa][Yy] [Dd][Ee][Ll][Ee][Tt][Ii][Oo][Nn]$'

Failed validating 'pattern' in schema[0]['properties']['category']:
    {'description': "Should be 'roadway deletion'",
     'pattern': '^[Rr][Oo][Aa][Dd][Ww][Aa][Yy] '
                '[Dd][Ee][Ll][Ee][Tt][Ii][Oo][Nn]$',
     'type': 'string'}

On instance['category']:
    'roadway property change'
2023-03-24 14:26:18, DEBUG: Valid Cards: 
 - example delete roadway
 - example roadway add
2023-03-24 14:26:18, ERROR: Card Validation Errors: 
 - example roadway multiple add and delete
 - example property change
2023-03-24 14:26:19, INFO: Evaluated 0 bad card files
2023-03-24 14:26:19, INFO: Evaluated json valid for 17 schema files
2023-03-24 14:26:19, INFO: Wrote projectcard to projectcard.testpackage
2023-03-24 14:26:19, INFO: Evaluated schema valid for 17 schema files
2023-03-24 14:26:19, INFO: Evaluated 0 bad schema files
